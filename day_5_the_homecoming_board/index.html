<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Homecoming Board - Winter Festival Flight Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
</head>
<body>
    <!-- Snow particles background -->
    <div id="snow-container"></div>

    <!-- Hand tracking video -->
    <div id="camera-container">
        <video id="input-video" width="320" height="240" autoplay muted playsinline></video>
        <canvas id="output-canvas" width="320" height="240"></canvas>
        <button id="toggle-camera" aria-label="Toggle camera view">ğŸ‘ï¸</button>
    </div>

    <!-- Gesture feedback indicator -->
    <div id="gesture-indicator">
        <div id="gesture-icon">âœ‹</div>
        <div id="gesture-name">Ready</div>
    </div>

    <!-- Permanent Gesture Controls Panel -->
    <div id="gesture-controls-panel">
        <div class="gesture-controls-header">
            <h3>âœ‹ Hand Gesture Controls</h3>
            <div class="controls-toggle" id="controls-toggle">ğŸ“</div>
        </div>
        <div class="gesture-controls-grid">
            <div class="gesture-control">
                <div class="gesture-emoji">ğŸ¤™</div>
                <div class="gesture-info">
                    <div class="gesture-label">Shaka</div>
                    <div class="gesture-action">Load Arrivals</div>
                </div>
            </div>
            <div class="gesture-control">
                <div class="gesture-emoji">ğŸ‘Œ</div>
                <div class="gesture-info">
                    <div class="gesture-label">OK Sign</div>
                    <div class="gesture-action">Load Departures</div>
                </div>
            </div>
            <div class="gesture-control">
                <div class="gesture-emoji">ğŸ–ï¸</div>
                <div class="gesture-info">
                    <div class="gesture-label">Wave Hand</div>
                    <div class="gesture-action">Navigate Lists</div>
                </div>
            </div>
            <div class="gesture-control">
                <div class="gesture-emoji">âœŠ</div>
                <div class="gesture-info">
                    <div class="gesture-label">Closed Fist</div>
                    <div class="gesture-action">Select Flight</div>
                </div>
            </div>
            <div class="gesture-control">
                <div class="gesture-emoji">ğŸ––</div>
                <div class="gesture-info">
                    <div class="gesture-label">Vulcan Sign</div>
                    <div class="gesture-action">Back/Exit</div>
                </div>
            </div>
            <div class="gesture-control">
                <div class="gesture-emoji">âœŒï¸</div>
                <div class="gesture-info">
                    <div class="gesture-label">Peace Sign</div>
                    <div class="gesture-action">Refresh Data</div>
                </div>
            </div>
            <div class="gesture-control">
                <div class="gesture-emoji">ğŸ¤˜</div>
                <div class="gesture-info">
                    <div class="gesture-label">Rock Sign</div>
                    <div class="gesture-action">Switch Airport</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main application container -->
    <div id="app">
        <!-- Header -->
        <header id="main-header">
            <h1>âœˆï¸ The Homecoming Board</h1>
            <p>Winter Festival Edition</p>
            <div id="current-airport">
                <span id="airport-code">Loading...</span>
                <span id="airport-name">Fetching airport data...</span>
            </div>
        </header>

        <!-- Loading screen -->
        <div id="loading-screen" class="screen">
            <div class="loading-content">
                <div class="snowflake">â„ï¸</div>
                <p>Connecting to flight data...</p>
                <div class="loading-bar">
                    <div class="loading-progress"></div>
                </div>
            </div>
        </div>

        <!-- Main flight display -->
        <div id="main-screen" class="screen">
            <!-- Tab navigation -->
            <nav id="flight-tabs">
                <button id="arrivals-tab" class="tab-button active" data-type="arrivals">
                    ğŸ›¬ Arrivals
                </button>
                <button id="departures-tab" class="tab-button" data-type="departures">
                    ğŸ›« Departures
                </button>
                <button id="refresh-btn" class="refresh-button">
                    ğŸ”„ Refresh
                </button>
            </nav>

            <!-- Flight list -->
            <div id="flight-list" class="flight-list">
                <!-- Flight cards will be populated here -->
            </div>

            <!-- Navigation hint -->
            <div id="navigation-hint">
                <p>Use hand gestures to navigate:</p>
                <div class="gesture-hints">
                    <span>ğŸ¤™ Load Arrivals</span>
                    <span>ğŸ‘Œ Load Departures</span>
                    <span>ğŸ–ï¸ Navigate</span>
                    <span>âœŠ Select Flight</span>
                </div>
            </div>
        </div>

        <!-- Flight detail view -->
        <div id="detail-screen" class="screen">
            <div id="flight-detail-container">
                <button id="back-button" class="back-button">ğŸ–– Back to Main</button>
                
                <div id="flight-detail-content">
                    <div id="flight-header">
                        <h2 id="detail-flight-number">AA123</h2>
                        <div id="detail-airline">American Airlines</div>
                        <div id="detail-status" class="status">On Time</div>
                    </div>

                    <div id="flight-route">
                        <div class="route-point">
                            <div class="airport-code" id="detail-origin">LAX</div>
                            <div class="airport-name">Los Angeles International</div>
                            <div class="time" id="detail-departure-time">14:30</div>
                        </div>
                        <div class="route-arrow">âœˆï¸</div>
                        <div class="route-point">
                            <div class="airport-code" id="detail-destination">JFK</div>
                            <div class="airport-name">John F. Kennedy International</div>
                            <div class="time" id="detail-arrival-time">22:45</div>
                        </div>
                    </div>

                    <div id="flight-info">
                        <div class="info-row">
                            <span class="label">Gate:</span>
                            <span id="detail-gate">B12</span>
                        </div>
                        <div class="info-row">
                            <span class="label">Terminal:</span>
                            <span id="detail-terminal">2</span>
                        </div>
                        <div class="info-row">
                            <span class="label">Aircraft:</span>
                            <span id="detail-aircraft">Boeing 737-800</span>
                        </div>
                        <div class="info-row">
                            <span class="label">Flight Duration:</span>
                            <span id="detail-duration">5h 15m</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Airport selection screen -->
        <div id="airport-screen" class="screen">
            <div id="airport-selector">
                <h2>ğŸ›« Select Airport</h2>
                <div id="airport-list">
                    <!-- Airport options will be populated dynamically from API -->
                </div>
                <button id="confirm-airport" class="confirm-button">âœŠ Select Airport</button>
            </div>
        </div>
    </div>

    <!-- JavaScript modules -->
    <script src="js/utils/cache.js"></script>
    <script src="js/utils/api.js"></script>
    <script src="js/gesture/detector.js"></script>
    <script src="js/gesture/recognizer.js"></script>
    <script src="js/ui/animations.js"></script>
    <script src="js/ui/components.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
